{% extends 'base.html' %}

{% block title %}
    –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
{% endblock %}

{% block body %}

    {% if last_city and not city_name %}
        <div class="alert alert-info mt-3 text-center">
            –í—ã –Ω–µ–¥–∞–≤–Ω–æ —Å–º–æ—Ç—Ä–µ–ª–∏ –ø–æ–≥–æ–¥—É –≤ –≥–æ—Ä–æ–¥–µ <strong>{{ last_city }}</strong>.
            <form method="POST" class="d-inline">
                <input type="hidden" name="city" value="{{ last_city }}">
                <button type="submit" class="btn btn-sm btn-outline-primary">–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å–Ω–æ–≤–∞</button>
            </form>
        </div>
    {% endif %}
    {% if error %}
        <p style="color: red;">{{ error }}</p>
    {% endif %}

    {% if weather %}
        <div class="show_city"><h2 class="text-center my-4">{{ city_name }}</h2></div>
        <div class="card mt-4">
            <div class="card-body">
                <h5 class="card-title">–ü–æ–≥–æ–¥–∞ —Å–µ–π—á–∞—Å</h5>
                <p><strong>üå°Ô∏è –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞:</strong> {{ weather.temperature }} ¬∞C</p>
                <p><strong>üí® –°–∫–æ—Ä–æ—Å—Ç—å –≤–µ—Ç—Ä–∞:</strong> {{ weather.windspeed }} –∫–º/—á</p>
                <p><strong>‚Üñ –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–µ—Ç—Ä–∞:</strong> {{ weather.winddirection }}¬∞</p>
                <p><strong>üïî –í—Ä–µ–º—è –∏–∑–º–µ—Ä–µ–Ω–∏—è:</strong> {{ weather.time }}</p>
            </div>
        </div>
    {% endif %}
    {% if forecast %}
        <h3 class="mt-5">–ü—Ä–æ–≥–Ω–æ–∑ –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –¥–Ω–µ–π</h3>
        <div class="row">
            {% for day in forecast %}
                <div class="col-md-4 mt-3">
                    <div class="card h-100">
                        <div class="card-body">
                            <h5 class="card-title">{{ day.date }}</h5>
                            <p>üå°Ô∏è –ú–∞–∫—Å: {{ day.temp_max }}¬∞C</p>
                            <p>üå°Ô∏è –ú–∏–Ω: {{ day.temp_min }}¬∞C</p>
                            <p>üíß –û—Å–∞–¥–∫–∏: {{ day.precipitation }} –º–º</p>
                            <p>üí® –í–µ—Ç–µ—Ä: {{ day.windspeed }} –∫–º/—á</p>
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>
    {% endif %}
{% endblock %}

